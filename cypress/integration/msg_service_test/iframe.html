<html>
<body>
  <div>Message from parent: </div><span id="response_from_parent"></span>
  <script src="/index.js"></script>
  <script>
    const messagingSrv = new rsx.CrossWindowMessagingService(window.parent, "*");
    const responseSpan = document.querySelector("#response_from_parent");

    messagingSrv.onMessage(msg => {
      if (msg.type === "test") {
         responseSpan.innerHTML = msg.payload;
      }
    });
    messagingSrv.sendMessage({ type: "test", payload: "Iframe message" });
  </script>
</body>
</html>