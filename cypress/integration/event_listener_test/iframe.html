<html>
<body>
  <button id="test-event">Test Event</button>

  <script src="/index.js"></script>
  <script src="https://unpkg.com/eventemitter3@latest/umd/eventemitter3.min.js"></script>
  <script>
    const eventEmitter = new EventEmitter3();
    const config = {
      events: [ { register: 'on', deregister: 'off' } ],
      messagingService: new rsx.CrossWindowMessagingService(window.parent, "*")
    };
    const server = rsx.createServer(eventEmitter, config);
    server.serve();
    document.querySelector('#test-event').onclick = () => eventEmitter.emit('click');
    console.log('Server is ready.');
</script>
</body>
</html>